<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="generator" content="pandoc" />

    <meta name="author" content="Sahil Seth" />
  
    <meta name="date" content="2016-07-22" />
  
  <!---  <title>flowr</title> --->
  
  <title>flowr — Easy, scalable big data pipelines using High Performance Computing Cluster </title>
  <!---<link rel="shortcut icon" href="http://">--->
  <meta property="og:description" content="Easy, scalable big data pipelines using HPCC (high performance computing cluster)">
  <meta property="og:title" content="flowr — Easy, scalable big data pipelines using a Computing Cluster">
  <meta name="twitter:description" content="flowr - Easy, scalable big data pipelines using HPCC (high performance computing cluster)">
  <meta name="twitter:title" content="flowr — Easy, scalable big data pipelines using HPCC (high performance computing cluster)">
  <meta name="keywords" content="R, HPCC, computing, big data, genomics, bioinformatics, pipelines, workflow, ngs, next-generation, sequencing, wgs, wex">
  
  

    <script src="assets/jquery-1.11.3/jquery.min.js"></script>
  <link href="assets/bootstrap-3.3.2/css/bootstrap.min.css" rel="stylesheet" />
  <script src="assets/bootstrap-3.3.2/js/bootstrap.min.js"></script>
  <script src="assets/bootstrap-3.3.2/shim/html5shiv.min.js"></script>
  <script src="assets/bootstrap-3.3.2/shim/respond.min.js"></script>
  <link href="assets/highlight-8.4/tomorrow.css" rel="stylesheet" />
  <script src="assets/highlight-8.4/highlight.pack.js"></script>
  <link href="assets/fontawesome-4.3.0/css/font-awesome.min.css" rel="stylesheet" />
  <script src="assets/stickykit-1.1.1/sticky-kit.min.js"></script>
  <script src="assets/jqueryeasing-1.3/jquery.easing.min.js"></script>
  <link href="assets/packagedocs-0.0.1/pd.css" rel="stylesheet" />
  <script src="assets/packagedocs-0.0.1/pd.js"></script>
  <script src="assets/packagedocs-0.0.1/pd-sticky-toc.js"></script>
  <link href="assets/bootswatch-3.3.5/bootstrap.css" rel="stylesheet" />
  
  
  
  
  

	<!-- custom size -->
	<style>
  body {
  position: relative;
  padding-top: 40px;
  font-size: 15px;
  }
  
  .section h1 {
    margin-top: 30px;
    margin-bottom: 20px;
    border-bottom: 0px;
    font-size: 30px;
    font-weight: 400;
  }

 .section h2 {
    margin-top: 20px;
    margin-bottom: 10px;
    border-bottom: 0px;
    font-size: 22px;
    font-weight: 400;
  }
  
  pre {
  font-size:12px;
  padding: 0.3em;
  }
	</style>
	
	
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
</head>

<body>

  
  <header class="navbar navbar-white navbar-fixed-top" role="banner" id="header">
    <div class="container">
      <div class="navbar-header">
        <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
                <span class="navbar-brand">
<a href="http://docs.flowr.space"> <img src='files/logo_red.png' alt='flowr icon' width='50px' height='40px' style='margin-top: -20px;margin-bottom: -20px'> </a>
        </span>
                <a href="index.html" class="navbar-brand page-scroll">
<!--        flowr - Streamlining Workflows only subtitle-->
            Streamlining Workflows
        </a>
      </div>
            <nav class="collapse navbar-collapse" role="navigation">
        <ul class="nav nav-pills pull-right">
<li>
<a href='overview.html'>Overview</a>
</li>
<li>
<a href='install.html'>Install</a>
</li>
<li>
<a href='tutorial.html'>Tutorial</a>
</li>
<li>
<a href='rd.html'>Help</a>
</li>
<li class="active">
<a href='news.html'>News</a>
</li>
<li>
<a href='https://github.com/sahilseth/flowr'>Github <i class='fa fa-github'></i></a>
</li>
        </ul>
      </nav>
          </div>
  </header>

  <!-- Begin Body -->
  <div class="container">
    <div class="row">
            <div class="col-md-3" id="sidebar-col">
        <div id="toc">
          <ul>
          <li><a href="#flowr-0.9.10-dates">flowr 0.9.10 (dates)</a></li>
          <li><a href="#flowr-0.9.9.5-cherries">flowr 0.9.9.5 (cherries)</a></li>
          <li><a href="#flowr-0.9.8-blueberries">flowr 0.9.8 (blueberries)</a></li>
          <li><a href="#flowr-0.9.7-apples">flowr 0.9.7 (apples)</a></li>
          <li><a href="#flowr-0.9.6.13">flowr 0.9.6.13</a></li>
          <li><a href="#flowr-0.9.6.7">flowr 0.9.6.7</a></li>
          <li><a href="#flowr-0.9.5.1">flowr 0.9.5.1</a></li>
          <li><a href="#flowr-0.85">flowr 0.85</a></li>
          </ul>
        </div>
      </div>
      <div class="col-md-9" id="content-col">
      
<div id="content-top"></div>
<p><br></p>
<div id="flowr-0.9.10-dates" class="section level2">
<h2>flowr 0.9.10 (dates)</h2>
<blockquote>
<p>2016-04-18</p>
</blockquote>
<p>tl;dr (<strong>summary of changes</strong>)</p>
<ul>
<li>Flowr Rscript gets further enhancements, taking advantage of improved <a href="https://github.com/sahilseth/funr">funr</a></li>
<li><code>run</code> function now accepts paths.</li>
</ul>
<pre><code># &#39;cherries&#39; version
cd &lt;path to pipelines&gt;
flowr x=mypipeline

# &#39;dates&#39; version
flowr x=&lt;path to pipelines&gt;/mypipeline</code></pre>
<ul>
<li>Previously, flowr expected a specific structure, now using <code>~/.flowr.conf</code>, one may specify their own structure - enabling flexibility.</li>
</ul>
<pre><code># &#39;cherries&#39; version: a fixed directory structure was recommended:
~/flowr
├── conf
│   ├── flowr.conf
├── pipelines
│   ├── sleep_pipe.R
├── runs

# &#39;dates&#39; version: one may change the default paths to run, config files etc using 
~/.flowr.conf

# this file controls the location of these folders:
flow_base_path  ~/flowr # flowr home
flow_conf_path  {{flow_base_path}}/conf  # path to configuration files, not required if using ~/.flowr.conf
flow_run_path   ~/flowr/runs  # default home of all executed flows, you may change this
flow_pipe_paths ~/flowr/pipelines,&lt;add new paths...&gt; # multiple paths can be specified using &quot;,&quot;</code></pre>
<ul>
<li>a few bug fixes in <a href="https://github.com/sahilseth/flowr/issues/66">to_flow</a></li>
<li>several other minor changes to messages, errors and warnings.</li>
</ul>
</div>
<div id="flowr-0.9.9.5-cherries" class="section level2">
<h2>flowr 0.9.9.5 (cherries)</h2>
<blockquote>
<p>2015-12-03</p>
</blockquote>
<p>tl;dr (<strong>summary of changes</strong>)</p>
<ul>
<li>Better handling of multiple flows in terms of running and re-running.</li>
<li>Nicer and cleaner messages.</li>
<li>Add two additional lines in <code>flowr.conf</code> (<code>modules_cmds</code> and <code>local_cores</code>), after upgrading the package. Everything else is compatible with previous versions.</li>
</ul>
<p><strong>additions/changes to <code>flowr.conf</code> file</strong></p>
<ul>
<li><strong>New</strong>: option local_cores, which determines (max) number of cores to use when running local jobs.</li>
<li><p><strong>New</strong>: <code>flow_pipe_paths</code> now supports multiple paths, seperated by comma. The <code>fetch_pipes()</code> would split the vector at commas.</p></li>
<li><p><strong>IMP</strong>: New version needs additional components in the <code>flowr.conf</code> file</p></li>
<li><p><strong>New</strong>: Now you can add a <code>module_cmds</code> variable to the config file, and this will be prefixed in all script of the pipeline. An example could be:</p></li>
</ul>
<pre class="diff"><code># version &gt;= 0.9.8.9004
# max number of cores to use when running on a local server
local_cores 4

# default module of a pipeline
# version &gt;= 0.9.8.9015
module_cmds &#39;&#39;

# examples: one may define all modules used in a pipeline here, 
# further one may specify any other command which should be run before 
# script executes.
#module_cmds    &#39;module load samtools;export PATH=$PATH:/apps/bin&#39;
</code></pre>
<p><strong>addition/changes to <code>status()</code></strong></p>
<ul>
<li><strong>New</strong>: status gets a new argument to turn off progress bar if needed.</li>
<li><strong>New</strong> enhanced <code>get_wds</code>/<code>status</code>, so that if current wd contains a flow_details file, status is shown for this folder and not sub-folder(s).</li>
</ul>
<pre><code>## now this works well !
flowr status x=.</code></pre>
<p><strong>addition/changes to <code>run()</code> and <code>rerun()</code> functions</strong></p>
<ul>
<li><strong>New</strong>: run function now accepts a custom configuration [<code>conf</code>], parameter. See <code>help(flowr::run)</code> for more details. This enables one, to specify custom parameters used for that pipeline.</li>
<li><strong>New</strong>: Now <code>rerun()</code> supports multiple folders. Basically, one may specify a parent folder which has multiple flowr runs and ask it to re-run <strong>ALL</strong> of them again, from a specific intermediate step.</li>
<li><p><strong>New</strong>: Flowr creates a new folder if there are multiple samples in the flowmat; basically containerizes the run, keeping the logs clean and debugging life easier.</p></li>
<li><p><strong>New</strong>: <code>run()</code> now supports, re-running as well. i.e. One would generate a new set of commands etc. but execute in the previous folder; possibly from a inter-mediate step (experimental feature).</p></li>
</ul>
<p><strong>other changes</strong></p>
<ul>
<li><strong>New</strong>: <code>to_flowdef()</code> can now guess submission and dependency types (experimental feature).</li>
<li><strong>IMP</strong>: <code>to_flowdef</code> now adds a parameter <code>nodes</code>, to enable specifying number of nodes required per-job.</li>
<li><strong>IMP</strong>: <code>opts_flow$get</code> replaces <code>get_opts</code>, for reliability etc. Also this closely follows how knitr options are set.</li>
<li>fixed bugs in documentation (changed the formatting of output messages).</li>
</ul>
</div>
<div id="flowr-0.9.8-blueberries" class="section level2">
<h2>flowr 0.9.8 (blueberries)</h2>
<blockquote>
<p>2015-10-02</p>
</blockquote>
<ul>
<li>Modified the output of status function, to add a <code>status</code> column. Specifically, this uses information from other columns and summarizes whether a specific step is <code>pending</code>, <code>processing</code>, <code>completed</code> or <code>errored</code>.</li>
</ul>
<pre><code>================================================================================
|                | total| started| completed| exit_status|status     |
|:---------------|-----:|-------:|---------:|-----------:|:----------|
|001.alnCmd1     |   109|     109|       109|           0|completed  |
|007.markCmd     |     3|       3|         0|           0|processing |</code></pre>
<ul>
<li>[0.9.7.11]
<ul>
<li>Switched default value of <a href="mailto:flow@status">flow@status</a> to “created”.</li>
<li>When using status on several folders, it used to be a little cluttered. Have added spaces, so that this looks prettier now.</li>
</ul></li>
<li><p><strong>Introducing verbose levels</strong>:</p>
<p>One can set the level of verboseness using <code>opts_flow$set(verbose=2)</code>. Where the level may be 0, 1, 2…. Level 1 is good for most purposes, where as, level 0 is almost silent, producing messages only when neccessary. While level 2 is good when developing a new pipeline, additional details useful for debugging are provided by level 3.</p></li>
<li><p>Detailed checking of flowdef</p>
<pre><code>checking if required columns are present...
checking if resources columns are present...
checking if dependency column has valid names...
checking if submission column has valid names...
checking for missing rows in def...
checking for extra rows in def...
checking submission and dependency types...
jobname prev.sub_type --&gt; dep_type --&gt; sub_type: relationship
1: aln1_a   none --&gt; none --&gt; scatter 
2: aln2_a   scatter --&gt; none --&gt; scatter 
3: sampe_a  scatter --&gt; serial --&gt; scatter rel: complex one:one
4: fixrg_a  scatter --&gt; serial --&gt; scatter rel: complex one:one
5: merge_a  scatter --&gt; gather --&gt; serial rel: many:one
6: markdup_a    serial --&gt; serial --&gt; serial rel: simple one:one
7: target_a serial --&gt; serial --&gt; serial rel: simple one:one
8: realign_a    serial --&gt; burst --&gt; scatter rel: one:many
9: baserecalib_a    scatter --&gt; serial --&gt; scatter rel: complex one:one
10: printreads_a    scatter --&gt; serial --&gt; scatter rel: complex one:one</code></pre></li>
<li>rerun [0.9.7.9021]:
<ul>
<li>Previously one could specify a starting point from where a re-run flow would initiate execution. Now one may also specify an arbitary number of of steps to re-run using select and ignore; which may need to run again.</li>
</ul></li>
<li>job killing and submission now sport a progress bar:
<ul>
<li>|============================================================ | 70%</li>
<li>This is especially useful flows with thousands of jobs</li>
</ul></li>
<li>Fixed 2 important bugs in moab.sh, lsf.sh template file, where it was missing the -n argument.</li>
<li>Now the status function has a new argument use_cache. If enabled, it skips fetching statuses of previously completed jobs; this really speeding things up.
<ul>
<li>Also we have added a progress bar to show the status of this summarization.</li>
</ul></li>
<li><p>Several detailed changes to the documentation.</p></li>
</ul>
</div>
<div id="flowr-0.9.7-apples" class="section level2">
<h2>flowr 0.9.7 (apples)</h2>
<blockquote>
<p>2015-08-22 (0.9.7.10)</p>
</blockquote>
<ul>
<li>This release adds and changes functionality of several functions.</li>
<li>A new function run(), creates and submits a pipeline. Specifically it follows the following steps:
<ul>
<li>One supplies the name of the pipeline, which is used to fetch the pipeline using: <code>fetch_pipe()</code></li>
<li>create flowmat by running a function called <code>mypipeline()</code>, <code>mypipeline</code> is the name of the pipeline.</li>
<li>load configuration file, with paths to tools etc using <code>load_conf()</code></li>
<li>fetch the flow definition using <code>fetch_pipe</code>, and load it using <code>as.flowdef()</code></li>
<li>Further, create a flow object using <code>to_flow()</code></li>
<li>Finally, submit to the cluster, submit_flow()</li>
</ul></li>
<li><code>kill()</code>: now a S3 functions, and operates on both a flow object and flow_wd folder</li>
<li><code>check()</code>: Now works on flowdef and flowmat</li>
<li>as.flowmat(), as.flowdef(): easy ways to fetch and check these tables</li>
<li><code>fetch()</code> along with <code>fetch_pipes()</code> and <code>fetch_conf()</code> simplify finding files</li>
<li>Reduce function overload, moving several functions a seperate <code>params</code> pkg
<ul>
<li>moved <code>read_sheet()</code>, <code>write_sheet()</code></li>
<li>moved <code>get_opts()</code>, <code>set_opts()</code></li>
<li>moved <code>.load_conf()</code> <code>load_conf()</code></li>
<li>Here is a link to <a href="https://github.com/sahilseth/params">params</a> package</li>
<li>kable function is now a part of params, that removes the dependency to knitr package</li>
</ul></li>
<li>plot_flow: supports flowdef</li>
</ul>
</div>
<div id="flowr-0.9.6.13" class="section level2">
<h2>flowr 0.9.6.13</h2>
<ul>
<li>[0.9.6.13] 2015-07-23
<ul>
<li>Using PBS/LSF script instead of one line commands</li>
<li>Format now a script, parsed using whisker</li>
<li>to_flowmat() and to_flowdef() introduced; creating of these tables simplified</li>
<li>Refactored code for plot_flow, handles multiple dependencies beautifully</li>
</ul></li>
<li>[0.9.6.10] 2015-07-08
<ul>
<li>add to_flow()</li>
<li>kill_flow()</li>
<li>supports moab</li>
<li>burst as dependency type</li>
<li>node can be character</li>
<li>final job names changed to: sprintf(“%s_%s-%s”, basename(<a href="mailto:fobj@flow_path">fobj@flow_path</a>), <a href="mailto:jobj@jobname">jobj@jobname</a>, i)</li>
<li>Using PBS/LSF script instead of one line commands</li>
<li>Format now a script, parsed using whisker</li>
</ul></li>
</ul>
</div>
<div id="flowr-0.9.6.7" class="section level2">
<h2>flowr 0.9.6.7</h2>
<blockquote>
<p>2015-04-07</p>
</blockquote>
<ul>
<li>add read_sample_sheet</li>
<li>clean package dependencies</li>
<li>[0.9.6.6]
<ul>
<li>switch cat to messages</li>
<li>added to_flow</li>
</ul></li>
<li>[0.9.6.5]
<ul>
<li>Added more examples</li>
<li>Update Vignette with more examples</li>
<li>squash issues in DESCRIPTION</li>
</ul></li>
<li>[0.9.6.1]
<ul>
<li>Added some vignettes for a simple and comples example</li>
<li>satiate CRAN checks</li>
</ul></li>
</ul>
</div>
<div id="flowr-0.9.5.1" class="section level2">
<h2>flowr 0.9.5.1</h2>
<blockquote>
<p>2015-03-16</p>
</blockquote>
<ul>
<li>Added several new functions kill_flow(), which kills the flow.</li>
<li>Added experimental rerun_flow which still needs some work</li>
<li>updated documentation to satiate R CMD check</li>
<li>now job() checks for a dependency_type is previous job is provided</li>
<li>Added some slides inst</li>
<li>Integrated documentation with Sphnix</li>
<li>submit_flow, now generates flow_details.txt, flow.pdf, flow_status.txt</li>
<li>status() updates: flow_details.txt and flow_status.txt</li>
<li>save flow.rda files with all details on the flow</li>
<li>update flow details with job exit status, to be used in rerun</li>
</ul>
<p><strong>TODO</strong></p>
<ul>
<li>add more examples</li>
<li>update and cleanup documentation</li>
<li>integrate with sqlite with status</li>
<li>add example pipelines</li>
<li>assign UUID to each job/flow. and use that to track them.</li>
<li>Work on test_queue()</li>
<li>Add recipies</li>
</ul>
</div>
<div id="flowr-0.85" class="section level2">
<h2>flowr 0.85</h2>
<blockquote>
<p>2014-12-05</p>
</blockquote>
<ul>
<li>get_flow_details():</li>
<li>Attach a job_number</li>
<li>Attach a flow level unique ID</li>
<li>update flow details with exited jobs</li>
<li>Create trigger upon start</li>
<li>add started/pending column in details and summary</li>
<li>plot_flow(): make plot type 1 as default</li>
<li>get_flow_status(): -exit_status: reports number of exited jobs (not sum of exit codes)</li>
</ul>
<script src = "https://raw.githubusercontent.com/sahilseth/flowr/master/vignettes/files/googl.js"></script>
<p>Versioning:</p>
<p>Loosely, following <a href="http://www.greatgrubclub.com/a-z-fruit-veg#.Vk-gx4QzBRE">fruits A-Z</a>.</p>
</div>


      </div>
    </div>
  </div>

  <div id="footer">
    <div class="container">
      <div class="col-md-6">
      	<p class = "pull-left">
              	<left>
        &copy; Licence MIT, 2016
      	</left>
              	</p>
      	</div>
      <div class="col-md-6">
      	<p class = "pull-right">
        	This site was made possible by
        <a href="https://github.com/rstudio/rmarkdown">rmarkdown</a>, 
        <a href="https://github.com/hadley/staticdocs">staticdocs</a> and
        <a href="https://github.com/hafen/packagedocs">packagedocs</a>
			</p>
      </div>
      
      	<p><center>
        Edit this page on <a href="http://github.com/sahilseth/flowr/tree/devel/NEWS.md">Github<i class='fa fa-github'></i></a>
        </center></p>
    </div>
  </div>

  
</body>
</html>
